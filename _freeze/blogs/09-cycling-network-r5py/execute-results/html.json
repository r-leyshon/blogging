{
  "hash": "e196e2c9332950b8ebe9d82200285d40",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Analyse a Cycling Network with r<sup>5</sup>py\nauthor: Rich Leyshon\ndate: February 03 2024\ndescription: Using r<sup>5</sup>py to analyse service coverage in the London's Boris Bike network.\ncategories:\n  - Tutorial\n  - Transport Modelling\n  - REST API\n  - Web data\n  - Geospatial\nimage: 'https://images.pixexid.com/a-dynamic-image-of-a-cyclist-her-face-focused-and-determined-captured-mid-peda-cpglmien.jpeg?h=699&amp;q=70'\nimage-alt: 'A dynamic image of a cyclist, her face focused and determined, captured mid-pedal against the backdrop of a bustling city by [Ralph](https://pixexid.com/profile/cjxrsxsl7000008s6h21jecoe)'\ntoc: true\n---\n\n<figure class=center>\n  <img class=\"shaded_box\" width=\"400px\" src=\"https://images.pixexid.com/a-dynamic-image-of-a-cyclist-her-face-focused-and-determined-captured-mid-peda-cpglmien.jpeg?h=699&amp;q=70\"></img>\n  <figcaption style=\"text-align:center;\">Creative commons license, created by [Ralph](https://pixexid.com/profile/cjxrsxsl7000008s6h21jecoe)</figcaption>\n</figure>\n\n## Introduction\n\n[r<sup>5</sup>py is a relatively new transport modelling package](https://r5py.readthedocs.io/en/stable/)\navailable on PyPI. It provides convenient wrappers to\n[Conveyal's r<sup>5</sup> Java library](https://github.com/conveyal/r5), a\nperformant routing engine originating from the ubiquitous Open Trip Planner\n(OTP). Whereas r<sup>5</sup>py may not be as feature-rich as OTP, its unique\nstrength is in the production of origin:destination matrices at scale. This is\nimportant if the intention is to produce stable statistics based on routing\nalgorithms, where the idiosyncracies of local transport service availability\nmeans that departure times can have a significant impact upon overall journey\nduration.\n\nIn summary, r<sup>5</sup>py achieves stable statistics by calculating travel\ntimes over multiple journeys within a time window, returning insightful\nsummaries such as the median duration required to travel from point A to B.\n\n:::{.callout-caution collapse=\"true\"}\n\n### A Note on the Purpose\n\nThis tutorial aims to familiarise the reader with r<sup>5</sup>py and how it\nintegrates with the python geospatial ecosystem of packages. This article is\nnot to be used to attempt to infer service quality outcomes or to inform policy\ndecisions. Limitations of this analysis and suggested improvements will be\ndiscussed throughout.\n\n:::\n\n### Intended Audience\n\nExperienced python practitioners familiar with the typical python GIS stack, eg\ngeopandas, shapely, fiona and folium. Familiarity with r<sup>5</sup>py and\nrouting operations is not required.\n\n### Outcomes\n\n* Ingest London bike charging station locations.\n* Visualise charging stations in an interactive hex map.\n* Create a naive point plane of destinations.\n* Check that the point plane is large enough to accommodate station locations.\n* Calculate origin:destination travel time matrix, by cycling modality and \nwith a maximum journey time of 30 minutes.\n* Engineer features to help analyse the cycling network accessibility.\n* Visualise the cycling network coverage and the most remote points within that\narea.\n\n### What You'll Need:\n\n- [ ] Conda or miniconda\n- [ ] pip package manager\n- [ ] Ability to install Java Development Kit\n- [ ] Ability to request from Transport for London api\n- [ ] Tutorial compatible with macos. `subprocess` calls may require adaptation\nfor other operating systems.\n\n```{.python filename=requirements.txt eval=false}\ncontextily\ngeopandas\nmatplotlib\npydeck\npyprojroot\nr5py\nrequests\nscikit-learn\n\n```\n### Getting Started\n\n\n## Main\n\n\n### Tips\n\n* When encountering issues with quarto render, it can be informative to examine\n\n## Conclusion\n\nThis article has walked the reader through setting up a basic quarto project,\n\n<p id=fin><i>fin!</i></p>\n\n",
    "supporting": [
      "09-cycling-network-r5py_files/figure-html"
    ],
    "filters": [],
    "includes": {}
  }
}